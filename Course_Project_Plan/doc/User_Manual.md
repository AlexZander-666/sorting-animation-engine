# 算法动画展示引擎 —— 使用说明书

> **目的**：指导教师 / 助教 / 同学在本地复现项目、操作界面并理解所有功能。  
> **文档位置**：`doc/User_Manual.md`  
> **截图资源**：`res/manual_images/`（需按章节放置实际截图，例如 `ui_overview.png`）

---

## 1. 环境准备

| 组件 | 版本建议 | 备注 |
| --- | --- | --- |
| Node.js | ≥ 20.19.0（最低 20.18.3，可见警告但能运行） | [https://nodejs.org](https://nodejs.org) |
| npm | 随 Node.js 安装 | 已在脚本中使用 |
| 浏览器 | 最新版 Chrome / Edge / Firefox | 用于预览动画 |

确保具备基本的命令行使用能力，并已安装 git（若需版本管理）。

---

## 2. 目录说明
```
Course_Project_Plan/
├── src/                 # 源码（算法、组件、上下文、工具）
├── doc/                 # 课程报告 + 使用说明（当前文件）
├── res/manual_images/   # 使用说明引用的截图
├── release/dist/        # `npm run build` 直接生成的发布文件
├── package.json         # 依赖与脚本
└── README.md            # 顶层执行指南
```
> **注意**：提交压缩包时，请保持上述结构，并在 `res/manual_images/` 中放入必要截图以便阅卷。

---

## 3. 安装与启动

1. **安装依赖**
   ```bash
   cd Course_Project_Plan
   npm install
   ```
2. **开发模式（交互式预览）**
   ```bash
   npm run dev
   ```
   - 控制台会输出本地预览地址，例如 `http://localhost:5173/`；
   - 打开浏览器访问该地址即可开始操作。
3. **生产构建**
   ```bash
   npm run build
   npm run preview    # 可选：验证打包后的站点
   ```
   - 构建完成后，静态文件会直接写入 `release/dist/`；
   - `npm run preview` 将读取同一目录，便于提交前做最终确认。

---

## 4. 运行流程

### 4.1 页面结构
请参考 `res/manual_images/ui_overview.png`（示例文件名）了解整体布局：

- **左上**：数据输入 & 控制面板（Dashboard）
- **中部**：排序动画区（Sorting Visualizer）
- **底部**：Benchmark 跑分区（Benchmark Report）

### 4.2 数据输入
在 Dashboard 的 “数据源” 面板中可选择以下方式：
1. **手动输入**：在文本框中输入逗号分隔的数字（如 `5, 3, 7, 1`），点击“应用输入”。
2. **文件导入**：点击 “导入 CSV/TXT”，上传包含逗号或换行分隔数字的纯文本文件。
   - 文件大小限制为 10MB；
   - 如果格式不正确，系统会显示错误提示。
3. **随机生成**：选择预设大小（10 / 30 / 50 / 100 / 200 / 500），点击“随机生成”。

> **提示**：可视化模式最多显示 512 个元素，超出部分会被截断并给出提醒（建议切换 Benchmark）。输入会自动过滤非数字、并将数值限制在 5-100 范围内。

### 4.3 算法选择与播放
1. 在 “算法与播放控制” 面板中勾选目标算法；
2. 点击 “开始” 触发动画播放，使用 “暂停” / “重置” 控制播放状态；
3. 通过 “速度 (ms)” 滑块调节动画节奏；
4. 使用进度条拖动到任意步骤（内部会自动重置 + 快速重放，保证状态准确）。

颜色说明：
- 黄色：比较 (`compare`)
- 红色：交换 (`swap`)
- 绿色：完成
- 外排序视图会额外显示“内存缓冲区”和“磁盘块”，以强调数据从磁盘加载到内存、再写回的流程（见 `res/manual_images/external_view.png`）。

### 4.4 Benchmark 模式
1. 在页面底部点击 “运行对比”；
2. 系统会自动检测数据规模，若过大将跳过 O(n²) 算法并提示原因；
3. 支持 Web Worker 的浏览器会在后台运行，主界面依然可响应；
4. 表格会列出：算法名称、耗时 (ms)、比较数、交换数、内存估算；
5. “AI 评点” 区域会结合统计信息输出规则化点评（如快速排序在大数据下的优势、跳过的算法等）；
6. 若需记录截图，可将表格 + 评点页面保存至 `res/manual_images/benchmark.png`。

---

## 5. 截图清单（示例）
请根据实际运行界面，将对应截图保存至 `res/manual_images/`，并在文档中引用：

| 场景 | 文件名建议 | 说明 |
| --- | --- | --- |
| 首页 + 控制面板 | `ui_overview.png` | 展示 Dashboard + Visualizer + Benchmark |
| 外排序视图 | `external_view.png` | 磁盘/内存双层展示 |
| Benchmark 结果 | `benchmark.png` | 包含表格和 AI 评点 |

> 若需更多截图（例如错误提示或文件导入示例），请按照 `feature_xxx.png` 命名，以便在报告 / 手册中引用。

---

## 6. 常见问题 (FAQ)

1. **Q：页面提示“动画步骤数量超过限制”怎么办？**  
   - A：当前数据量过大，请减少输入元素或切换至 Benchmark 模式。

2. **Q：Benchmark 模式显示“已被阈值保护逻辑跳过”？**  
   - A：为避免浏览器卡死，系统对 O(n²) 算法设置了最大输入规模；缩小数据量即可运行。

3. **Q：导入文件失败或数据为空？**  
   - A：确认文件为纯文本，内容包含以逗号或换行分隔的数字；并确保大小 ≤ 10MB。

4. **Q：如何提交作业？**  
   - A：运行 `npm run build`，确认 `release/dist/` 已生成；随后压缩 `src/`、`release/`、`res/`、`doc/` 等目录，压缩文件命名为 `学号姓名.zip`。

---

## 7. 联系与支持
- 如需进一步协助，可在 README 中补充联系方式或在作业提交平台留言；
- 建议在运行前阅读 `doc/Report.md`，了解设计理念与架构实现细节。

> 祝顺利复现实验结果并取得高分！
